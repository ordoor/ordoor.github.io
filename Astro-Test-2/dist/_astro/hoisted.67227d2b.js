import{C as R}from"./index.fccfb502.js";function a(h,y=document){if(typeof h=="function")document.addEventListener("load",h);else return y.querySelector(h)}function X(h,y=document){return Array.from(y.querySelectorAll(h)??[])}function A(h,y,k){if(h instanceof Date){var d=new Date(h),C=function(){d?.getDate()!=h.getDate()&&d?.setDate(0)};switch(String(y).toLowerCase()){case"year":d.setFullYear(d.getFullYear()+k),C();break;case"quarter":d.setMonth(d.getMonth()+3*k),C();break;case"month":d.setMonth(d.getMonth()+k),C();break;case"week":d.setDate(d.getDate()+7*k);break;case"day":d.setDate(d.getDate()+k);break;case"hour":d.setTime(d.getTime()+k*36e5);break;case"minute":d.setTime(d.getTime()+k*6e4);break;case"second":d.setTime(d.getTime()+k*1e3);break;default:d=void 0;break}return d}}function Z(h,y){return R.AES.decrypt(h,y).toString(R.enc.Utf8)}try{let h=function(t,o=8,s=30,u=0,n=0){const e=V?.indexOf(t);if(e===-1)throw new Error("Invalid day of week");const r=new Date;return r.setDate(r.getDate()+(7+e-r.getDay())%7),r.setHours(o),r.setMinutes(s),r.setSeconds(u),r.setMilliseconds(n),r},y=function(t){if(!t)return new Date;const o=t.match(/\*(-)?Infinity\*/);if(o)return o[1]?new Date(-z):W;if(t.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/)){const s=t.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/);if(s===null)throw new Error("Invalid date string");const[u,n,e,r,c,m,i,l]=s,v=l===void 0?c:c==="12"?l.toLowerCase()==="pm"?"12":"0":l.toLowerCase()==="pm"?+c+12:c;return new Date(+n,+e-1,+r,+v,+m,i?.replace(":","")?+i.replace(":",""):0)}else if(t.match(/^([A-Z][a-z]*) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/)){const s=t.match(/^(\w+) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/);if(s===null)throw new Error("Invalid date string");const[u,n,e,r,c,m]=s,i=m===void 0?e:e==="12"?m.toLowerCase()==="pm"?"12":"0":m.toLowerCase()==="pm"?+e+12:e;let l;switch(n){case"Su":case"Sun":l="Sunday";break;case"M":case"Mon":l="Monday";break;case"Tu":case"Tue":l="Tuesday";break;case"W":case"Wed":l="Wednesday";break;case"Th":case"Thu":l="Thursday";break;case"F":case"Fri":l="Friday";break;case"Sa":case"Sat":l="Saturday";break;default:l=n}switch(l){case"Sunday":case"Monday":case"Tuesday":case"Wednesday":case"Thursday":case"Friday":case"Saturday":return h(l,+i,+r,+(c?.replace(":","")??0));default:throw new Error("Invalid day of week")}}else throw new Error(`Invalid string format: "${t}"`)},k=function(t){const o=Date.now()-(t?.lastCheckTime??0);return t.lastCheckTime=Date.now(),o},d=function(t){const{settings:o,boxData:s}=JSON.parse(t),u=localStorage.getItem("management_key");localStorage.clear(),u&&localStorage.setItem("management_key",u);for(let n=0;n<w.length;n++){const e=w[n],r=a(".title",e);r&&(r.value="CLEAR"),e.UpdateBox()}localStorage.setItem("settings",JSON.stringify(o)),Object.entries(o).forEach(([n,e])=>{o[n]=e}),Object.entries(s).forEach(([n,e])=>{const c=a("#box-container")?.children[+(n.match(/\d+/)??0)]?.matches(".box")?a("#box-container")?.children[+(n.match(/\d+/)??0)]:void 0;if(n.startsWith("box-")&&localStorage.setItem(n,JSON.stringify(e)),c){const{title:m="",data:i="",prefix:l="",tickTime:v=""}=e;a(".title",c).value=m,a("textarea",c).value=i,a(".prefix",c).value=l,a(".local-tick-time",c).value=v,c.UpdateBox()}})},C=function(){console.log(w);const t={};for(let o=0;o<w.length;o++){const s=`box-${o}`,u=localStorage.getItem(s);if(u!==null){const n=JSON.parse(u);n.title!==""&&(t[s]=n)}}return JSON.stringify({settings:T,boxData:t})},N=function(t=!1){e:for(let n=0;n<w.length;n++){const e=w[n],r=e.getAttribute("titleValue");if(!r||r.match(/\*PAUSE\*/i))continue e;const c=+(e.tickTime??0);if(!(c===0||isNaN(c)))if(isNaN(e.currentTick??NaN)&&(e.currentTick=0),e.currentTick+=k(e),t||e.currentTick==null||e.currentTick>=c)e.currentTick=e.currentTick%c;else continue e;e.values?.forEach(i=>{i.millisecondsUntil=(i.date?.getTime()??0)-Date.now()});let m=null;for(let i=0;i<e.values.length;i++){const l=e.values[i];l.millisecondsUntil>=0?(m==null||l.millisecondsUntil<l.millisecondsUntil)&&(m=l):(r.match(/\*ALARM\*/i)||l.text.match(/\*ALARM\*/i))&&l.alarm===!1&&t===!1&&(G.play().catch(v=>{console.error(v)}),l.alarm=!0,console.log(l.alarm))}if(e.upcomingDate=m??void 0,e.upcomingDate){const i=new Date(e.upcomingDate.millisecondsUntil??0),l=i.toISOString(),v=((+l.slice(8,10)-1)*24+i.getUTCHours()).toString().padStart(2,"0");if(e.highlightMatches){const[I,p=0,x=0,b=0,S=0,L=0]=e.highlightMatches;+p*864e5+ +x*36e5+ +b*6e4+ +S*1e3+ +L>=(e.upcomingDate.millisecondsUntil??1/0)?e.classList.add("box-highlight"):e.classList.remove("box-highlight")}else e.classList.remove("box-highlight");(e.specialElements.timerHrMin??{innerText:""}).innerText=v+":"+i.getUTCMinutes().toString().padStart(2,"0"),(e.specialElements.timerSec??{innerText:""}).innerText=l.slice(17,T.secondsSize);const M=e.upcomingDate.text.match(/\*dis(?:play)? ?\((.*?)\)\*/);let f=M?M[1]:e.upcomingDate.text;switch(!0){case e.settings?.dayOfWeek==="hide":case!!f.match(/\*(h-dow|h-d)\*/):f=f.replace(/^([A-Z][a-z]* )/,"").replace(/\*(h-dow|h-d)\*/,"");case e.settings?.dayOfWeek==="shorten3":case!!f.match(/\*(sh3-dow)\*/):f=f.replace(/^([A-Z][a-z]*)/,I=>I.substring(0,3)).replace(/\*(sh3-dow)\*/,"");case e.settings?.date==="hide":case!!f.match(/\*(h-date|h-d)\*/):f=f.replace(/^(\d{4})-(\d{2})-(\d{2}) /,"").replace(/\*(h-date|h-d)\*/,"")}e.specialElements.nextUp&&(e.specialElements.nextUp.innerHTML=f)}else e.specialElements.timerHrMin&&(e.specialElements.timerHrMin.innerText="00:00"),e.specialElements.timerSec&&(e.specialElements.timerSec.innerText="00.000"),e.specialElements.nextUp&&(e.specialElements.nextUp.innerHTML='<span onmousedown="alert(`All upcoming dates have elapsed`)" ontouchstart>undefined</span>'),e.classList.remove("box-highlight")}const o=a('.box[fake-title-value="Default"]'),u=a(".box-highlight")??o;u?(E.style.display="block",D.title.innerText=u.fakeTitleValue||"",D.timerHrMin.innerText=u.specialElements.timerHrMin?.innerText||"00:00",D.timerSec.innerText=u.specialElements.timerSec?.innerText||"00.000",D.nextUp.innerText=u.specialElements.nextUp?.innerText||"",D.data.innerText=u?.allData?.data,D.prefix.innerText=u?.allData?.prefix||"No Prefix"):E.style.display="none"};const W=new Date(Date.now()+26784e5-1),V=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=[...X(".box")],E=a(".greater-box"),G=new Audio("https://duckduckgo.com/share/goodie/timer/2001/alarm.mp3"),D={title:a(".greater-title",E),timerHrMin:a("span.timer-hr-min",E),timerSec:a("span.timer-sec",E),nextUp:a(".next-up",E),data:a(".greater-data",E),prefix:a(".greater-prefix",E)},T={cooldown:+(JSON.parse(localStorage.getItem("settings")??'{"cooldown":10}').cooldown??"10"),highlightColor:JSON.parse(localStorage.getItem("settings")??'{"highlightColor":"yellow"}').highlightColor??"yellow",customClickSound:JSON.parse(localStorage.getItem("settings")??'{"customClickSound":""}').customClickSound??"",secondsSize:+(JSON.parse(localStorage.getItem("settings")??'{"secondsSize":23}').secondsSize??23)},q=/\/\/.*|\/\*[^]*?\*\//g,U=new Audio(T.customClickSound||"https://cdn.videvo.net/videvo_files/audio/premium/audio0051/watermarked/ButtonSolidCompute%20SE040304_preview.mp3");a("button#ie-export")?.addEventListener("click",t=>{console.log(C());try{navigator.clipboard.writeText(C())}catch{const s=a(".import-export-box > .ie-data");s&&(s.value=C())}}),a("button#ie-import")?.addEventListener("click",t=>{d(a(".import-export-box > .ie-data")?.value)});for(let t=0;t<w.length;t++){const o=w[t],s={title:a(".title",o),timerHrMin:a("span.timer-hr-min",o),timerSec:a("span.timer-sec",o),nextUp:a(".next-up",o),data:a("textarea",o),prefix:a(".prefix",o),localTickTime:a(".local-tick-time",o)};o.specialElements=s}if(w.forEach(t=>{const o=Array.from(t.parentNode?.children).indexOf(t),s=JSON.parse(localStorage.getItem(`box-${o}`));a("button",t)?.addEventListener("click",n=>{if(a(".title",t)?.value=="REMOVE"){t.remove();return}u(),N(!0),U.play()}),s&&(a(".title",t).value=s.title,a("textarea",t).value=s.data,a("input.prefix",t).value=s.prefix,a(".local-tick-time",t).value=s.tickTime??0);function u(){const[n,e,r,c,m="none"]=[a(".title",t),a("textarea",t),a("input.prefix",t),a(".local-tick-time",t),a("#quick-options-select")?.value];let i=m==="removeTitle"?"*NIL*":m==="clear"?"*CLEAR*":n.value;if(console.log(m,i),!i&&m==="none")return;switch(i){case"NIL":case"*NIL*":case"NULL":case"*NULL*":[i,n.value]=["",""];break;case"CLEAR":case"*CLEAR*":case"RESET":case"*RESET*":[i,n.value,e.value,r.value,c.value]=["","","","",""];break;default:break}const l=(p,x,b,S,L)=>{let g=new Date;if(x)switch(L){case"s":g=A(g,"second",b==="-"?-+S:+S);break;case"m":g=A(g,"minute",b==="-"?-+S:+S);break;case"h":g=A(g,"hour",b==="-"?-+S:+S);break;case"d":g=A(g,"day",b==="-"?-+S:+S);break;default:break}return`${g?.getFullYear().toString().padStart(2,"0")}-${((g?.getMonth()??0)+1).toString().padStart(2,"0")}-${g?.getDate().toString().padStart(2,"0")} ${g?.getHours()}:${g?.getMinutes().toString().padStart(2,"0")}:${g?.getSeconds().toString().padStart(2,"0")}.${g?.getMilliseconds().toString().padStart(4,"0")}`};e.value=e.value.replace(/\*now(([+-])(\d+)([smhd]))?\*/g,l);const v=JSON.stringify({title:i.replace(/\*COPY\*/,""),data:e.value,prefix:r.value,tickTime:c.value});t.allData=JSON.parse(v),localStorage.setItem(`box-${o}`,v);function M(p){let x=JSON.parse(p);localStorage.setItem(`box-${o}`,p),n.value=x.title,e.value=x.data,r.value=x.prefix,c.value=x.tickTime,i=x.title}if(i.match(/\*COPY\*/i)||m==="copy")try{navigator.clipboard?navigator.clipboard.writeText(v):(e.value=v,n.value="*PASTE*")}catch(p){console.log(p),e.value=v,alert(p)}else if(i.match(/\*PASTE\*/i)||i===".p"||m==="paste")try{M(e.value)}catch(p){console.log(p),alert(`Invalid Paste: ${p}`)}else m==="pasteFromImportBox"&&a(".ie-data")&&M(a(".ie-data")?.value);console.log(/\*(h-date|h-d)\*/.test(i)?"hide":/\*(sh-date|sh-d)\*/.test(i)?"shorten":null,i),t.settings={dayOfWeek:/\*(h-dow|h-d)\*/.test(i)?"hide":/\*(sh3-dow)\*/.test(i)?"shorten3":/\*(sh-dow|sh-d)\*/.test(i)?"shorten":null,date:/\*(h-date|h-d)\*/.test(i)?"hide":/\*(sh-date|sh-d)\*/.test(i)?"shorten":null};let f=[];e.value.replace(q,"").split(`
`).forEach((p,x)=>{let b=a(".prefix",t)?.value+p,S=y(b);f[x]={text:b,date:S,alarm:!1}}),t.values=f;const I=i.match(/\*(?:(\d+)d)?(\d+)?:(\d+)?(?::(\d+))?(?:\.(\d+))?\*/);I&&I[0]!=":"?t.highlightMatches=I:t.highlightMatches=void 0,t.setAttribute("titleValue",i),t.setAttribute("fake-title-value",i.replace(/\*.*?\*/g,"")),t.fakeTitleValue=t.getAttribute("fake-title-value")??void 0,t.tickTime=c.value===""?0:c.value,t.lastCheckTime=Date.now()}u(),t.UpdateBox=u}),location.pathname==="/mtu"||location.pathname==="/mtu/"){localStorage.getItem("management_key")||localStorage.setItem("management_key",prompt("Insert your key")??"");try{const t=Z(String.raw`U2FsdGVkX1+HlygHvt886cQOCQP2q546+3196GonyPi1GdREY7HBGdBULfbMF1jbkqRgl2wnQiQp0Tss6xYR8bv9ut7HkSKsOifj6IHc75EpbZJ5iUhiVCWAMGXutaxFsqoTPOMGYm47EgNE81DH0rIpjhRCkEjY5txXZXZ+zwEIV90GL0tpgAQu2dIL+4gd5rlaZ4hfgCX9xtLj7JBxk/tdg2YI/oa8aNzElIrT7j/b6H7KEatc/giza6c9VrGILnZS2H3ojw9S+5ive30jO5Nd2Plg9PilXTyv8/+SK+2gceq+GdLaexiRA/NkAZ2obuti9oWoqJ1qz0DaV1sCkl0A3OfN9xIxGFTCkpev9eNxHOE14yCMowRlpvbbIzErlMEnR2QIkCc/Rxv6hFcurF/EsQPS+ElhX7dJp/NOq/p0bqr4kO58JdoIGj2vlqlaWZDJ72rBbHZleKtUjDp+7h+g2hhClnr873mRkdkKetAc4GJvl8iHqQKoeoeQp1Ha+BXCraWokgJjrPCwxmRWMdeZpJJHGFLQT40xbF2Uy5cAXePH4zEtW/R1/5jn/d0PN4Y6TfPbSgWRzMVfJn9nRQzQG8/OmGEUq0l7WeMOsnPqJvINSq+vQerLnz2yzl/qtqOugAarmKna9IEWGsK0a43fm9UJ/F3BaSkVpNCSsFo0CvWMxw6Vy0FKFdUyZ0C87lYkxxxwHnS36Qu6WtayV96rNW/f+6HXDztsxVsLUfXJLPTcuhC5s1CwaZ7DB/zIvxqjqiZty6ZsH7QMZsdi8CR+jHLJpmMriV0unpj59VxFmNCt8ER/JqlsMRzyVLWbZW45PVwmJiG/7jpRIDoStU3MfKJG0NfMsxv5b3Xw+WtZEnATlAXjeMf96XARgI1JdhKpHqRPzJemygYup9g5um6UtrtsAkAbEl+zPIePtZazp3c/mFyxwBnvqf5W3bCm+XCPrnioO/uIieEgDv7t3I675rXOqk3t/q+dhk6LKVlCbEypp5zBjjXpHvOE8MLs3mPl9w26Gkdo1/R4+vEEZOwVYZsURfXChVy04z+gaDgeGlICamAjqo5gkqnbA5J3bYdFCyi1MFklD2hcGSymHvjJxEFOmVJySZ6Qz7uHJLoTRXWz8EYaU2wmSXxAeQGpS8enPPS6wObdLHgp3CTRN8+WI0+8xZPALsketpJLHLU60daC7MbaSOlHTW/8LC0n4X3D/czbr42CqWpgX54V1VHD8lAVQDMVu9D7DELN+W0XB0IK7e8onv5RSqbOMFaibo04VssflhNb6PRQzsaDtv53Jh2xWLBpUf43ieWWj+I3alE+wP9bqabkhb5z0HzD6K//U23JOC34e2YkY9ThlMN/SS+rQDNs0Gh093iOh0euwShgMT3TlQqCrMdbxIq+sxtGTXKWTpZkg9ir/Cw/yJb84Pp9jN0NwhJrpFZSPshwNfc42QSDo066E3ZUGc10mPvxRFjj7/Vqr0j7o/hpyFW8PRdZuGj0BYrkVJAktWVVfbUT+XDw93YDFWopE9rCm4mwOlGXPUCpgiwcC5TvQZET+00uIZRePGAvG4Uli1UJ3Ras9kpNN2lZt3zYJsildhyztovimhGboVG2os5yiGxrYM2lK3p0TCnRvGU781xAC3um3BTlSJvwbMuqLaWvoaadMs2toIifwWuYoNA0M9abiK90pHVE0p7Etu5OukncjK4FmU28kLtDJEHoCD3qewNwx/lx4+4YjyzHvR8uu4HQm26/SwlFvIK+kckJp6LQlH987wb04f2mQMu8OCLHoMVcj3n4mU8NnkkuSUcbt/TdzoKPFG7XIA5wBh3qjiG0bwmvmzMYnxTZGC2eB9NcUhDYN2svVk659G+u1A5AyR5MO3ZyW2znPzbChd3dmzi8e423o8Qj56kccsovRqX6AhrmXM2oJVwJ8PCgSzHXNWstgUJcvSF1UOKXXE2RPbgvI7Dd8Iq++wqAW7T1YUlN/EV5TeanH5H2TPi3VpkG3J5nRDnx6na4Vr/5kHUuLX8=`,`${localStorage.getItem("management_key")}+uoHNBzi2MdUF9Nq3CpAvUpW6qMi2ZAm5OvmWJGXGlHnk9TNHsaDILbLibfR9ZU24vbEFvx43aQ8p8DL9JPHmrhaQza5ixsI5wk8yChCyhnfz0BfCpO3cRicvuFUS8bIJ`),o=JSON.parse(t);if(o.settings&&o.boxData)d(t);else throw new Error("Invalid key")}catch{localStorage.setItem("management_key",prompt("Invalid key: Insert the correct key")??""),location.reload()}}const F=setInterval(N,T.cooldown);N(!0),document.addEventListener("click",t=>{t.target?.matches("#deactivate")&&(U.play(),confirm("WARNING: This will make this page unavailable until this site is reload. Confirm?")&&(clearInterval(F),document.body.remove(),document.head.remove())),t.target?.matches(".settings-box-update")&&(localStorage.setItem("settings",JSON.stringify({cooldown:a(".settings-box .cooldown")?.value||"10",secondsSize:+(a(".settings-box .seconds-size")?.value??0)+19||23,highlightColor:a(".settings-box .highlight-color")?.value||"yellow",customClickSound:a(".settings-box .custom-click-sound")?.value||""})),U.play(),location.reload())});const J=a(".settings-box .cooldown"),O=a(".settings-box .seconds-size"),H=a(".settings-box .highlight-color"),P=a(".settings-box .custom-click-sound");J&&(J.value=T.cooldown.toString()),O&&(O.value=(T.secondsSize-19).toString()),H&&(H.value=T.highlightColor),P&&(P.value=T.customClickSound),document.documentElement.style.setProperty("--highlight-color",T.highlightColor)}catch(h){window.err=h,alert(h),console.error(h)}
