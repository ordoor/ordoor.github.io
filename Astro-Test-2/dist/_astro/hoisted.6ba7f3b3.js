import{C as z}from"./index.fccfb502.js";function a(h,k=document){if(typeof h=="function")document.addEventListener("load",h);else return k.querySelector(h)}function X(h,k=document){return Array.from(k.querySelectorAll(h)??[])}function A(h,k,S){if(h instanceof Date){var d=new Date(h),E=function(){d?.getDate()!=h.getDate()&&d?.setDate(0)};switch(String(k).toLowerCase()){case"year":d.setFullYear(d.getFullYear()+S),E();break;case"quarter":d.setMonth(d.getMonth()+3*S),E();break;case"month":d.setMonth(d.getMonth()+S),E();break;case"week":d.setDate(d.getDate()+7*S);break;case"day":d.setDate(d.getDate()+S);break;case"hour":d.setTime(d.getTime()+S*36e5);break;case"minute":d.setTime(d.getTime()+S*6e4);break;case"second":d.setTime(d.getTime()+S*1e3);break;default:d=void 0;break}return d}}function Z(h,k){return z.AES.decrypt(h,k).toString(z.enc.Utf8)}try{let h=function(t,o=8,s=30,m=0,l=0){const e=V?.indexOf(t);if(e===-1)throw new Error("Invalid day of week");const r=new Date;return r.setDate(r.getDate()+(7+e-r.getDay())%7),r.setHours(o),r.setMinutes(s),r.setSeconds(m),r.setMilliseconds(l),r},k=function(t){if(!t)return new Date;const o=t.match(/\*(-)?Infinity\*/);if(o)return o[1]?new Date(-(W??864e13)):J;if(t.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/)){const s=t.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/);if(s===null)throw new Error("Invalid date string");const[m,l,e,r,c,u,i,n]=s,g=n===void 0?c:c==="12"?n.toLowerCase()==="pm"?"12":"0":n.toLowerCase()==="pm"?+c+12:c;return new Date(+l,+e-1,+r,+g,+u,i?.replace(":","")?+i.replace(":",""):0)}else if(t.match(/^([A-Z][a-z]*) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/)){const s=t.match(/^(\w+) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/);if(s===null)throw new Error("Invalid date string");const[m,l,e,r,c,u]=s,i=u===void 0?e:e==="12"?u.toLowerCase()==="pm"?"12":"0":u.toLowerCase()==="pm"?+e+12:e;let n;switch(l){case"Su":case"Sun":n="Sunday";break;case"M":case"Mon":n="Monday";break;case"Tu":case"Tue":n="Tuesday";break;case"W":case"Wed":n="Wednesday";break;case"Th":case"Thu":n="Thursday";break;case"F":case"Fri":n="Friday";break;case"Sa":case"Sat":n="Saturday";break;default:n=l}switch(n){case"Sunday":case"Monday":case"Tuesday":case"Wednesday":case"Thursday":case"Friday":case"Saturday":return h(n,+i,+r,+(c?.replace(":","")??0));default:throw new Error("Invalid day of week")}}else throw new Error(`Invalid string format: "${t}"`)},S=function(t){const o=Date.now()-(t?.lastCheckTime??0);return t.lastCheckTime=Date.now(),o},d=function(t){const{settings:o,boxData:s}=JSON.parse(t),m=localStorage.getItem("management_key");localStorage.clear(),m&&localStorage.setItem("management_key",m);for(let l=0;l<y.length;l++){const e=y[l],r=a(".title",e);r&&(r.value="CLEAR"),e.UpdateBox()}localStorage.setItem("settings",JSON.stringify(o)),Object.entries(o).forEach(([l,e])=>{o[l]=e}),Object.entries(s).forEach(([l,e])=>{const c=a("#box-container")?.children[+(l.match(/\d+/)??0)]?.matches(".box")?a("#box-container")?.children[+(l.match(/\d+/)??0)]:void 0;if(l.startsWith("box-")&&localStorage.setItem(l,JSON.stringify(e)),c){const{title:u="",data:i="",prefix:n="",tickTime:g=""}=e;a(".title",c).value=u,a("textarea",c).value=i,a(".prefix",c).value=n,a(".local-tick-time",c).value=g,c.UpdateBox()}})},E=function(){console.log(y);const t={};for(let o=0;o<y.length;o++){const s=`box-${o}`,m=localStorage.getItem(s);if(m!==null){const l=JSON.parse(m);l.title!==""&&(t[s]=l)}}return JSON.stringify({settings:T,boxData:t})},N=function(t=!1){e:for(let l=0;l<y.length;l++){const e=y[l],r=e.getAttribute("titleValue");if(!r||r.match(/\*PAUSE\*/i))continue e;const c=+(e.tickTime??0);if(!(c===0||isNaN(c)))if(isNaN(e.currentTick??NaN)&&(e.currentTick=0),e.currentTick+=S(e),t||e.currentTick==null||e.currentTick>=c)e.currentTick=e.currentTick%c;else continue e;e.values?.forEach(i=>{i.millisecondsUntil=(i.date?.getTime()??0)-Date.now()});let u=null;for(let i=0;i<e.values.length;i++){const n=e.values[i];n.millisecondsUntil>=0?(u==null||n.millisecondsUntil<n.millisecondsUntil)&&(u=n):(r.match(/\*ALARM\*/i)||n.text.match(/\*ALARM\*/i))&&n.alarm===!1&&t===!1&&(G.play().catch(g=>{console.error(g)}),n.alarm=!0,console.log(n.alarm))}if(e.upcomingDate=u??void 0,e.upcomingDate){if(e.upcomingDate.date?.getTime()===J.getTime())(e.specialElements.timerHrMin??{innerText:"00:00"}).innerText="Infinity",(e.specialElements.timerSec??{innerText:"00.000"}).innerText="Infinity";else{const g=new Date(e.upcomingDate.millisecondsUntil??0),D=g.toISOString(),I=((+D.slice(8,10)-1)*24+g.getUTCHours()).toString().padStart(2,"0");if(e.highlightMatches){const[M,f=0,x=0,w=0,v=0,L=0]=e.highlightMatches;+f*864e5+ +x*36e5+ +w*6e4+ +v*1e3+ +L>=(e.upcomingDate.millisecondsUntil??1/0)?e.classList.add("box-highlight"):e.classList.remove("box-highlight")}else e.classList.remove("box-highlight");(e.specialElements.timerHrMin??{innerText:"00:00"}).innerText=I+":"+g.getUTCMinutes().toString().padStart(2,"0"),(e.specialElements.timerSec??{innerText:"00.000"}).innerText=D.slice(17,T.secondsSize)}const i=e.upcomingDate.text.match(/\*dis(?:play)? ?\((.*?)\)\*/);let n=i?i[1]:e.upcomingDate.text;switch(!0){case e.settings?.dayOfWeek==="hide":case!!n.match(/\*(h-dow|h-d)\*/):n=n.replace(/^([A-Z][a-z]* )/,"").replace(/\*(h-dow|h-d)\*/,"");case e.settings?.dayOfWeek==="shorten3":case!!n.match(/\*(sh3-dow)\*/):n=n.replace(/^([A-Z][a-z]*)/,g=>g.substring(0,3)).replace(/\*(sh3-dow)\*/,"");case e.settings?.date==="hide":case!!n.match(/\*(h-date|h-d)\*/):n=n.replace(/^(\d{4})-(\d{2})-(\d{2}) /,"").replace(/\*(h-date|h-d)\*/,"")}e.specialElements.nextUp&&(e.specialElements.nextUp.innerHTML=n)}else e.specialElements.timerHrMin&&(e.specialElements.timerHrMin.innerText="00:00"),e.specialElements.timerSec&&(e.specialElements.timerSec.innerText="00.000"),e.specialElements.nextUp&&(e.specialElements.nextUp.innerHTML='<span onmousedown="alert(`All upcoming dates have elapsed`)" ontouchstart>undefined</span>'),e.classList.remove("box-highlight")}const o=a('.box[fake-title-value="Default"]'),m=a(".box-highlight")??o;m?(b.style.display="block",C.title.innerText=m.fakeTitleValue||"",C.timerHrMin.innerText=m.specialElements.timerHrMin?.innerText||"00:00",C.timerSec.innerText=m.specialElements.timerSec?.innerText||"00.000",C.nextUp.innerText=m.specialElements.nextUp?.innerText||"",C.data.innerText=m?.allData?.data,C.prefix.innerText=m?.allData?.prefix||"No Prefix"):b.style.display="none"};const J=new Date(8639999999999999),V=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=[...X(".box")],b=a(".greater-box"),G=new Audio("https://duckduckgo.com/share/goodie/timer/2001/alarm.mp3"),C={title:a(".greater-title",b),timerHrMin:a("span.timer-hr-min",b),timerSec:a("span.timer-sec",b),nextUp:a(".next-up",b),data:a(".greater-data",b),prefix:a(".greater-prefix",b)},T={cooldown:+(JSON.parse(localStorage.getItem("settings")??'{"cooldown":10}').cooldown??"10"),highlightColor:JSON.parse(localStorage.getItem("settings")??'{"highlightColor":"yellow"}').highlightColor??"yellow",customClickSound:JSON.parse(localStorage.getItem("settings")??'{"customClickSound":""}').customClickSound??"",secondsSize:+(JSON.parse(localStorage.getItem("settings")??'{"secondsSize":23}').secondsSize??23)},q=/\/\/.*|\/\*[^]*?\*\//g,U=new Audio(T.customClickSound||"https://cdn.videvo.net/videvo_files/audio/premium/audio0051/watermarked/ButtonSolidCompute%20SE040304_preview.mp3");a("button#ie-export")?.addEventListener("click",t=>{console.log(E());try{navigator.clipboard.writeText(E())}catch{const s=a(".import-export-box > .ie-data");s&&(s.value=E())}}),a("button#ie-import")?.addEventListener("click",t=>{d(a(".import-export-box > .ie-data")?.value)});for(let t=0;t<y.length;t++){const o=y[t],s={title:a(".title",o),timerHrMin:a("span.timer-hr-min",o),timerSec:a("span.timer-sec",o),nextUp:a(".next-up",o),data:a("textarea",o),prefix:a(".prefix",o),localTickTime:a(".local-tick-time",o)};o.specialElements=s}if(y.forEach(t=>{const o=Array.from(t.parentNode?.children).indexOf(t),s=JSON.parse(localStorage.getItem(`box-${o}`));a("button",t)?.addEventListener("click",l=>{if(a(".title",t)?.value=="REMOVE"){t.remove();return}m(),N(!0),U.play()}),s&&(a(".title",t).value=s.title,a("textarea",t).value=s.data,a("input.prefix",t).value=s.prefix,a(".local-tick-time",t).value=s.tickTime??0);function m(){const[l,e,r,c,u="none"]=[a(".title",t),a("textarea",t),a("input.prefix",t),a(".local-tick-time",t),a("#quick-options-select")?.value];let i=u==="removeTitle"?"*NIL*":u==="clear"?"*CLEAR*":l.value;if(console.log(u,i),!i&&u==="none")return;switch(i){case"NIL":case"*NIL*":case"NULL":case"*NULL*":[i,l.value]=["",""];break;case"CLEAR":case"*CLEAR*":case"RESET":case"*RESET*":[i,l.value,e.value,r.value,c.value]=["","","","",""];break;default:break}const n=(f,x,w,v,L)=>{let p=new Date;if(x)switch(L){case"s":p=A(p,"second",w==="-"?-+v:+v);break;case"m":p=A(p,"minute",w==="-"?-+v:+v);break;case"h":p=A(p,"hour",w==="-"?-+v:+v);break;case"d":p=A(p,"day",w==="-"?-+v:+v);break;default:break}return`${p?.getFullYear().toString().padStart(2,"0")}-${((p?.getMonth()??0)+1).toString().padStart(2,"0")}-${p?.getDate().toString().padStart(2,"0")} ${p?.getHours()}:${p?.getMinutes().toString().padStart(2,"0")}:${p?.getSeconds().toString().padStart(2,"0")}.${p?.getMilliseconds().toString().padStart(4,"0")}`};e.value=e.value.replace(/\*now(([+-])(\d+)([smhd]))?\*/g,n);const g=JSON.stringify({title:i.replace(/\*COPY\*/,""),data:e.value,prefix:r.value,tickTime:c.value});t.allData=JSON.parse(g),localStorage.setItem(`box-${o}`,g);function D(f){let x=JSON.parse(f);localStorage.setItem(`box-${o}`,f),l.value=x.title,e.value=x.data,r.value=x.prefix,c.value=x.tickTime,i=x.title}if(i.match(/\*COPY\*/i)||u==="copy")try{navigator.clipboard?navigator.clipboard.writeText(g):(e.value=g,l.value="*PASTE*")}catch(f){console.log(f),e.value=g,alert(f)}else if(i.match(/\*PASTE\*/i)||i===".p"||u==="paste")try{D(e.value)}catch(f){console.log(f),alert(`Invalid Paste: ${f}`)}else u==="pasteFromImportBox"&&a(".ie-data")&&D(a(".ie-data")?.value);console.log(/\*(h-date|h-d)\*/.test(i)?"hide":/\*(sh-date|sh-d)\*/.test(i)?"shorten":null,i),t.settings={dayOfWeek:/\*(h-dow|h-d)\*/.test(i)?"hide":/\*(sh3-dow)\*/.test(i)?"shorten3":/\*(sh-dow|sh-d)\*/.test(i)?"shorten":null,date:/\*(h-date|h-d)\*/.test(i)?"hide":/\*(sh-date|sh-d)\*/.test(i)?"shorten":null};let I=[];e.value.replace(q,"").split(`
`).forEach((f,x)=>{let w=a(".prefix",t)?.value+f,v=k(w);I[x]={text:w,date:v,alarm:!1}}),t.values=I;const M=i.match(/\*(?:(\d+)d)?(\d+)?:(\d+)?(?::(\d+))?(?:\.(\d+))?\*/);M&&M[0]!=":"?t.highlightMatches=M:t.highlightMatches=void 0,t.setAttribute("titleValue",i),t.setAttribute("fake-title-value",i.replace(/\*.*?\*/g,"")),t.fakeTitleValue=t.getAttribute("fake-title-value")??void 0,t.tickTime=c.value===""?0:c.value,t.lastCheckTime=Date.now()}m(),t.UpdateBox=m}),location.pathname==="/mtu"||location.pathname==="/mtu/"){localStorage.getItem("management_key")||localStorage.setItem("management_key",prompt("Insert your key")??"");try{const t=Z(String.raw`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`,`${localStorage.getItem("management_key")}+uoHNBzi2MdUF9Nq3CpAvUpW6qMi2ZAm5OvmWJGXGlHnk9TNHsaDILbLibfR9ZU24vbEFvx43aQ8p8DL9JPHmrhaQza5ixsI5wk8yChCyhnfz0BfCpO3cRicvuFUS8bIJ`),o=JSON.parse(t);if(o.settings&&o.boxData)d(t);else throw new Error("Invalid key")}catch{localStorage.setItem("management_key",prompt("Invalid key: Insert the correct key")??""),location.reload()}}const F=setInterval(N,T.cooldown);N(!0),document.addEventListener("click",t=>{t.target?.matches("#deactivate")&&(U.play(),confirm("WARNING: This will make this page unavailable until this site is reload. Confirm?")&&(clearInterval(F),document.body.remove(),document.head.remove())),t.target?.matches(".settings-box-update")&&(localStorage.setItem("settings",JSON.stringify({cooldown:a(".settings-box .cooldown")?.value||"10",secondsSize:+(a(".settings-box .seconds-size")?.value??0)+19||23,highlightColor:a(".settings-box .highlight-color")?.value||"yellow",customClickSound:a(".settings-box .custom-click-sound")?.value||""})),U.play(),location.reload())});const O=a(".settings-box .cooldown"),H=a(".settings-box .seconds-size"),R=a(".settings-box .highlight-color"),P=a(".settings-box .custom-click-sound");O&&(O.value=T.cooldown.toString()),H&&(H.value=(T.secondsSize-19).toString()),R&&(R.value=T.highlightColor),P&&(P.value=T.customClickSound),document.documentElement.style.setProperty("--highlight-color",T.highlightColor)}catch(h){window.err=h,alert(h),console.error(h)}
