import{C as J}from"./index.fccfb502.js";function a(h,y=document){if(typeof h=="function")document.addEventListener("load",h);else return y.querySelector(h)}function V(h,y=document){return y.querySelectorAll(h)}function M(h,y,v){if(h instanceof Date){var r=new Date(h),k=function(){r.getDate()!=h.getDate()&&r.setDate(0)};switch(String(y).toLowerCase()){case"year":r.setFullYear(r.getFullYear()+v),k();break;case"quarter":r.setMonth(r.getMonth()+3*v),k();break;case"month":r.setMonth(r.getMonth()+v),k();break;case"week":r.setDate(r.getDate()+7*v);break;case"day":r.setDate(r.getDate()+v);break;case"hour":r.setTime(r.getTime()+v*36e5);break;case"minute":r.setTime(r.getTime()+v*6e4);break;case"second":r.setTime(r.getTime()+v*1e3);break;default:r=void 0;break}return r}}function G(h,y){return J.AES.decrypt(h,y).toString(J.enc.Utf8)}try{let R=function(t,n=8,m=30,c=0,o=0){const e=v?.indexOf(t);if(e===-1)throw new Error("Invalid day of week");const l=new Date;return l.setDate(l.getDate()+(7+e-l.getDay())%7),l.setHours(n),l.setMinutes(m),l.setSeconds(c),l.setMilliseconds(o),l},P=function(t){if(!t)return new Date;const n=t.match(/\*(-)?Infinity\*/);if(n)return n[1]?new Date(-864e13):y;if(t.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/)){const[m,c,o,e,l,d,u,i]=t.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/),s=i===void 0?l:l==="12"?i.toLowerCase()==="pm"?"12":"0":i.toLowerCase()==="pm"?+l+12:l;return new Date(c,o-1,e,s,d,u?.replace(":","")??0)}else if(t.match(/^([A-Z][a-z]*) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/)){const[m,c,o,e,l,d]=t.match(/^(\w+) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/),u=d===void 0?o:o==="12"?d.toLowerCase()==="pm"?"12":"0":d.toLowerCase()==="pm"?+o+12:o;let i;switch(c){case"Su":case"Sun":i="Sunday";break;case"M":case"Mon":i="Monday";break;case"Tu":case"Tue":i="Tuesday";break;case"W":case"Wed":i="Wednesday";break;case"Th":case"Thu":i="Thursday";break;case"F":case"Fri":i="Friday";break;case"Sa":case"Sat":i="Saturday";break;default:i=c}switch(i){case"Sunday":case"Monday":case"Tuesday":case"Wednesday":case"Thursday":case"Friday":case"Saturday":return R(i,u,e,l?.replace(":","")??0);default:throw new Error("Invalid day of week")}}else throw new Error(`Invalid string format: "${t}"`)},z=function(t){const n=Date.now()-t.lastCheckTime;return t.lastCheckTime=Date.now(),n},L=function(t){const{settings:n,boxData:m}=JSON.parse(t),c=localStorage.getItem("management_key");localStorage.clear(),c&&localStorage.setItem("management_key",c);for(let o=0;o<r.length;o++){const e=r[o];a(".title",e).value="CLEAR",e.UpdateBox()}localStorage.setItem("settings",JSON.stringify(n)),Object.entries(n).forEach(([o,e])=>{n[o]=e}),Object.entries(m).forEach(([o,e])=>{const l=a("#box-container").children[+o.match(/\d+/)].matches(".box")?a("#box-container").children[+o.match(/\d+/)]:void 0;if(o.startsWith("box-")&&localStorage.setItem(o,JSON.stringify(e)),l){const{title:d="",data:u="",prefix:i="",tickTime:s=""}=e;a(".title",l).value=d,a("textarea",l).value=u,a(".prefix",l).value=i,a(".local-tick-time",l).value=s,l.UpdateBox()}})},I=function(){const t={};for(let n=0;n<r.length;n++){const m=`box-${n+1}`,c=localStorage.getItem(m);if(c!==null){const o=JSON.parse(c);o.title!==""&&(t[m]=o)}}return JSON.stringify({settings:T,boxData:t})},N=function(t=!1){e:for(let o=0;o<r.length;o++){const e=r[o],l=e.getAttribute("titleValue");if(!l||l.match(/\*PAUSE\*/i))continue e;const d=+e.tickTime;if(!(d===0||isNaN(d)))if(isNaN(e.currentTick)&&(e.currentTick=0),e.currentTick+=z(e),t||e.currentTick==null||e.currentTick>=d)e.currentTick=e.currentTick%d;else continue e;e.values?.forEach(i=>{i.millisecondsUntil=i.date.getTime()-Date.now()});let u=null;for(let i=0;i<e.values.length;i++){const s=e.values[i];s.millisecondsUntil>=0?(u==null||s.millisecondsUntil<u.millisecondsUntil)&&(u=s):(l.match(/\*ALARM\*/i)||s.text.match(/\*ALARM\*/i))&&s.alarm===!1&&t===!1&&(O.play().catch(f=>{console.error(f)}),s.alarm=!0,console.log(s.alarm))}if(e.upcomingDate=u,e.upcomingDate){if(e.upcomingDate.date?.getTime()===y.getTime())e.specialElements.timerHrMin.innerText="Infinity",e.specialElements.timerSec.innerText="Infinity";else{const f=new Date(e.upcomingDate.millisecondsUntil),E=f.toISOString(),D=((+E.slice(8,10)-1)*24+f.getUTCHours()).toString().padStart(2,"0");if(e.highlightMatches){const[C,p=0,x=0,w=0,S=0,U=0]=e.highlightMatches;+p*864e5+ +x*36e5+ +w*6e4+ +S*1e3+ +U>=e.upcomingDate.millisecondsUntil?e.classList.add("box-highlight"):e.classList.remove("box-highlight")}else e.classList.remove("box-highlight");e.specialElements.timerHrMin.innerText=D+":"+f.getUTCMinutes().toString().padStart(2,"0"),e.specialElements.timerSec.innerText=E.slice(17,T.secondsSize)}const i=e.upcomingDate.text.match(/\*dis(?:play)? ?\((.*?)\)\*/);let s=i?i[1]:e.upcomingDate.text;if(/^([A-Z][a-z]*) (\d{1,2}):(\d{2})(:\d{2})?([APap][mM])?/.test(s))switch(!0){case e.settings.dayOfWeek==="hide":case!!s.match(/\*(h-dow|h-d)\*/):s=s.replace(/^([A-Z][a-z]* )/,"").replace(/\*(h-dow|h-d)\*/,"");break;case e.settings.dayOfWeek==="shorten3":case!!s.match(/\*(sh3-dow)\*/):s=s.replace(/^([A-Z][a-z]*)/,f=>f.substring(0,3)).replace(/\*(sh3-dow)\*/,"");break;case e.settings.date==="hide":case!!s.match(/\*(h-date|h-d)\*/):s=s.replace(/^(\d{4})-(\d{2})-(\d{2}) /,"").replace(/\*(h-date|h-d)\*/,"");break}e.specialElements.nextUp.innerHTML=s}else e.specialElements.timerHrMin.innerText="00:00",e.specialElements.timerSec.innerText="00.000",e.specialElements.nextUp.innerHTML='<span onmousedown="alert(`All upcoming dates have elapsed`)" ontouchstart>undefined</span>',e.classList.remove("box-highlight")}const n=a('.box[fake-title-value="Default"]'),c=a(".box-highlight")??n;c?(k.style.display="block",b.title.innerText=c.fakeTitleValue,b.timerHrMin.innerText=c.specialElements.timerHrMin?.innerText,b.timerSec.innerText=c.specialElements.timerSec?.innerText,b.nextUp.innerText=c.specialElements.nextUp?.innerText,b.data.innerText=c?.allData?.data,b.prefix.innerText=c?.allData?.prefix||"No Prefix"):k.style.display="none"};const y=new Date(8639999999999999),v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=[...V(".box")],k=a(".greater-box"),O=new Audio("https://duckduckgo.com/share/goodie/timer/2001/alarm.mp3"),b={title:a(".greater-title",k),timerHrMin:a("span.timer-hr-min",k),timerSec:a("span.timer-sec",k),nextUp:a(".next-up",k),data:a(".greater-data",k),prefix:a(".greater-prefix",k)},T={cooldown:+(JSON.parse(localStorage.getItem("settings")??'{"cooldown":10}').cooldown??"10"),highlightColor:JSON.parse(localStorage.getItem("settings")??'{"highlightColor":"yellow"}').highlightColor??"yellow",customClickSound:JSON.parse(localStorage.getItem("settings")??'{"customClickSound":""}').customClickSound??"",secondsSize:+(JSON.parse(localStorage.getItem("settings")??'{"secondsSize":23}').secondsSize??23)},H=/\/\/.*|\/\*[^]*?\*\//g,A=new Audio(T.customClickSound||"https://cdn.videvo.net/videvo_files/audio/premium/audio0051/watermarked/ButtonSolidCompute%20SE040304_preview.mp3");a("button#ie-export").addEventListener("click",t=>{console.log(I());try{navigator.clipboard.writeText(I())}catch{a(".import-export-box > .ie-data").value=I()}}),a("button#ie-import").addEventListener("click",t=>{L(a(".import-export-box > .ie-data").value)});for(let t=0;t<r.length;t++){const n=r[t],m={title:a(".title",n),timerHrMin:a("span.timer-hr-min",n),timerSec:a("span.timer-sec",n),nextUp:a(".next-up",n),data:a("textarea",n),prefix:a(".prefix",n),localTickTime:a(".local-tick-time",n)};n.specialElements=m}if(r.forEach(t=>{const n=Array.from(t.parentNode.children).indexOf(t),m=JSON.parse(localStorage.getItem(`box-${n}`));a("button",t).addEventListener("click",o=>{if(a(".title",t).value=="REMOVE"){t.remove();return}c(),N(!0),A.play()}),m&&(a(".title",t).value=m.title,a("textarea",t).value=m.data,a("input.prefix",t).value=m.prefix,a(".local-tick-time",t).value=m.tickTime??0);function c(){const[o,e,l,d,u="none"]=[a(".title",t),a("textarea",t),a("input.prefix",t),a(".local-tick-time",t),a("#quick-options-select")?.value];let i=u==="removeTitle"?"*NIL*":u==="clear"?"*CLEAR*":o.value;if(console.log(u,i),!i&&u==="none")return;switch(i){case"NIL":case"*NIL*":case"NULL":case"*NULL*":[i,o.value]=["",""];break;case"CLEAR":case"*CLEAR*":case"RESET":case"*RESET*":[i,o.value,e.value,l.value,d.value]=["","","","",""];break;default:break}const s=(p,x,w,S,U)=>{let g=new Date;if(x)switch(U){case"s":g=M(g,"second",w==="-"?-+S:+S);break;case"m":g=M(g,"minute",w==="-"?-+S:+S);break;case"h":g=M(g,"hour",w==="-"?-+S:+S);break;case"d":g=M(g,"day",w==="-"?-+S:+S);break;default:break}return`${g.getFullYear().toString().padStart(2,"0")}-${(g.getMonth()+1).toString().padStart(2,"0")}-${g.getDate().toString().padStart(2,"0")} ${g.getHours()}:${g.getMinutes().toString().padStart(2,"0")}:${g.getSeconds().toString().padStart(2,"0")}.${g.getMilliseconds().toString().padStart(4,"0")}`};e.value=e.value.replace(/\*now(([+-])(\d+)([smhd]))?\*/g,s);const f=JSON.stringify({title:i.replace(/\*COPY\*/,""),data:e.value,prefix:l.value,tickTime:d.value});t.allData=JSON.parse(f),localStorage.setItem(`box-${n}`,f);function E(p){let x=JSON.parse(p);localStorage.setItem(`box-${n}`,p),o.value=x.title,e.value=x.data,l.value=x.prefix,d.value=x.tickTime,i=x.title}if(i.match(/\*COPY\*/i)||u==="copy")try{navigator.clipboard?navigator.clipboard.writeText(f):(e.value=f,o.value="*PASTE*")}catch(p){console.log(p),e.value=f,alert(p)}else if(i.match(/\*PASTE\*/i)||i===".p"||u==="paste")try{E(e.value)}catch(p){console.log(p),alert(`Invalid Paste: ${p}`)}else u==="pasteFromImportBox"&&a(".ie-data")&&E(a(".ie-data").value);t.settings={dayOfWeek:/\*(h-dow|h-d)\*/.test(i)?"hide":/\*(sh3-dow)\*/.test(i)?"shorten3":/\*(sh-dow|sh-d)\*/.test(i)?"shorten":null,date:/\*(h-date|h-d)\*/.test(i)?"hide":/\*(sh-date|sh-d)\*/.test(i)?"shorten":null};let D=[];e.value.replace(H,"").split(`
`).forEach((p,x)=>{let w=a(".prefix",t).value+p,S=P(w);D[x]={text:w,date:S,alarm:!1}}),t.values=D;const C=i.match(/\*(?:(\d+)d)?(\d+)?:(\d+)?(?::(\d+))?(?:\.(\d+))?\*/);C&&C[0]!=":"?t.highlightMatches=C:t.highlightMatches=void 0,t.setAttribute("titleValue",i),t.setAttribute("fake-title-value",i.replace(/\*.*?\*/g,"")),t.fakeTitleValue=t.getAttribute("fake-title-value"),t.tickTime=d.value===""?0:d.value,t.lastCheckTime=Date.now()}c(),t.UpdateBox=c}),location.pathname==="/mtu"||location.pathname==="/mtu/"){localStorage.getItem("management_key")||localStorage.setItem("management_key",prompt("Insert your key"));try{const t=G(String.raw`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`,`${localStorage.getItem("management_key")}+uoHNBzi2MdUF9Nq3CpAvUpW6qMi2ZAm5OvmWJGXGlHnk9TNHsaDILbLibfR9ZU24vbEFvx43aQ8p8DL9JPHmrhaQza5ixsI5wk8yChCyhnfz0BfCpO3cRicvuFUS8bIJ`),n=JSON.parse(t);if(n.settings&&n.boxData)L(t);else throw new Error("Invalid key")}catch{localStorage.setItem("management_key",prompt("Invalid key: Insert the correct key")),location.reload()}}const W=setInterval(N,T.cooldown);N(!0),document.addEventListener("click",t=>{t.target.matches("#deactivate")&&(A.play(),confirm("WARNING: This will make this page unavailable until this site is reload. Confirm?")&&(clearInterval(W),document.body.remove(),document.head.remove())),t.target.matches(".settings-box-update")&&(localStorage.setItem("settings",JSON.stringify({cooldown:a(".settings-box .cooldown").value||"10",secondsSize:+a(".settings-box .seconds-size").value+19||23,highlightColor:a(".settings-box .highlight-color").value||"yellow",customClickSound:a(".settings-box .custom-click-sound").value||""})),A.play(),location.reload())}),a(".settings-box .cooldown").value=T.cooldown,a(".settings-box .seconds-size").value=T.secondsSize-19,a(".settings-box .highlight-color").value=T.highlightColor,a(".settings-box .custom-click-sound").value=T.customClickSound,document.documentElement.style.setProperty("--highlight-color",T.highlightColor)}catch(h){window.err=h,alert(h),console.error(h)}
